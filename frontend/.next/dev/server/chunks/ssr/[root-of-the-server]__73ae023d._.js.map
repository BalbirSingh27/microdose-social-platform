{
  "version": 3,
  "sources": [],
  "sections": [
    {"offset": {"line": 10, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/balbi/OneDrive/BALBIR%20SINGH%20DOCX/MICRODOSE%20INTERNSHIP/Microdose_Social_Platform/frontend/app/page.tsx"],"sourcesContent":["'use client';\n\nimport { useEffect, useState } from 'react';\n\ntype RedditPost = {\n  id: string;\n  title: string;\n  selftext: string | null;\n  subreddit: string;\n  score: number | null;\n  num_comments: number | null;\n  created_at?: string;\n  created_utc?: string | null;\n};\n\nconst API_BASE =\n  process.env.NEXT_PUBLIC_API_BASE ?? 'http://127.0.0.1:8000';\n  \nexport default function Home() {\n  const [posts, setPosts] = useState<RedditPost[]>([]);\n  const [loading, setLoading] = useState(true);\n  const [error, setError] = useState<string | null>(null);\n\n  useEffect(() => {\n    async function fetchPosts() {\n      try {\n        const res = await fetch(`${API_BASE}/supabase/reddit_posts?limit=20`, {\n          // Don't cache in dev\n          cache: 'no-store',\n        });\n\n        if (!res.ok) {\n          const text = await res.text();\n          throw new Error(`API ${res.status}: ${text}`);\n        }\n\n        const data = await res.json();\n        setPosts(data);\n      } catch (err: any) {\n        console.error('Error loading posts', err);\n        setError(err.message ?? 'Failed to fetch posts');\n      } finally {\n        setLoading(false);\n      }\n    }\n\n    fetchPosts();\n  }, []);\n\n  if (loading) {\n    return <main className=\"p-8\">Loading posts…</main>;\n  }\n\n  if (error) {\n    return (\n      <main className=\"p-8\">\n        <p className=\"text-red-600 font-semibold\">Error: {error}</p>\n      </main>\n    );\n  }\n\n  return (\n    <main className=\"p-8\">\n      <h1 className=\"text-2xl font-bold mb-4\">\n        Reddit posts from Supabase\n      </h1>\n\n      {posts.length === 0 && <p>No posts found.</p>}\n\n      <ul className=\"space-y-4\">\n        {posts.map((p) => (\n          <li key={p.id} className=\"border rounded p-4\">\n            <h2 className=\"font-semibold\">{p.title}</h2>\n            {p.selftext && (\n              <p className=\"mt-2 text-sm text-gray-700\">{p.selftext}</p>\n            )}\n            <p className=\"mt-2 text-xs text-gray-500\">\n              r/{p.subreddit} • score {p.score ?? 0} • comments{' '}\n              {p.num_comments ?? 0}\n            </p>\n          </li>\n        ))}\n      </ul>\n    </main>\n  );\n}\n"],"names":[],"mappings":";;;;;AAEA;AAFA;;;AAeA,MAAM,WACJ,6DAAoC;AAEvB,SAAS;IACtB,MAAM,CAAC,OAAO,SAAS,GAAG,IAAA,iNAAQ,EAAe,EAAE;IACnD,MAAM,CAAC,SAAS,WAAW,GAAG,IAAA,iNAAQ,EAAC;IACvC,MAAM,CAAC,OAAO,SAAS,GAAG,IAAA,iNAAQ,EAAgB;IAElD,IAAA,kNAAS,EAAC;QACR,eAAe;YACb,IAAI;gBACF,MAAM,MAAM,MAAM,MAAM,GAAG,SAAS,+BAA+B,CAAC,EAAE;oBACpE,qBAAqB;oBACrB,OAAO;gBACT;gBAEA,IAAI,CAAC,IAAI,EAAE,EAAE;oBACX,MAAM,OAAO,MAAM,IAAI,IAAI;oBAC3B,MAAM,IAAI,MAAM,CAAC,IAAI,EAAE,IAAI,MAAM,CAAC,EAAE,EAAE,MAAM;gBAC9C;gBAEA,MAAM,OAAO,MAAM,IAAI,IAAI;gBAC3B,SAAS;YACX,EAAE,OAAO,KAAU;gBACjB,QAAQ,KAAK,CAAC,uBAAuB;gBACrC,SAAS,IAAI,OAAO,IAAI;YAC1B,SAAU;gBACR,WAAW;YACb;QACF;QAEA;IACF,GAAG,EAAE;IAEL,IAAI,SAAS;QACX,qBAAO,8OAAC;YAAK,WAAU;sBAAM;;;;;;IAC/B;IAEA,IAAI,OAAO;QACT,qBACE,8OAAC;YAAK,WAAU;sBACd,cAAA,8OAAC;gBAAE,WAAU;;oBAA6B;oBAAQ;;;;;;;;;;;;IAGxD;IAEA,qBACE,8OAAC;QAAK,WAAU;;0BACd,8OAAC;gBAAG,WAAU;0BAA0B;;;;;;YAIvC,MAAM,MAAM,KAAK,mBAAK,8OAAC;0BAAE;;;;;;0BAE1B,8OAAC;gBAAG,WAAU;0BACX,MAAM,GAAG,CAAC,CAAC,kBACV,8OAAC;wBAAc,WAAU;;0CACvB,8OAAC;gCAAG,WAAU;0CAAiB,EAAE,KAAK;;;;;;4BACrC,EAAE,QAAQ,kBACT,8OAAC;gCAAE,WAAU;0CAA8B,EAAE,QAAQ;;;;;;0CAEvD,8OAAC;gCAAE,WAAU;;oCAA6B;oCACrC,EAAE,SAAS;oCAAC;oCAAU,EAAE,KAAK,IAAI;oCAAE;oCAAY;oCACjD,EAAE,YAAY,IAAI;;;;;;;;uBAPd,EAAE,EAAE;;;;;;;;;;;;;;;;AAcvB"}},
    {"offset": {"line": 153, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/balbi/OneDrive/BALBIR%20SINGH%20DOCX/MICRODOSE%20INTERNSHIP/Microdose_Social_Platform/frontend/node_modules/next/src/server/route-modules/app-page/module.compiled.js"],"sourcesContent":["if (process.env.NEXT_RUNTIME === 'edge') {\n  module.exports = require('next/dist/server/route-modules/app-page/module.js')\n} else {\n  if (process.env.__NEXT_EXPERIMENTAL_REACT) {\n    if (process.env.NODE_ENV === 'development') {\n      if (process.env.TURBOPACK) {\n        module.exports = require('next/dist/compiled/next-server/app-page-turbo-experimental.runtime.dev.js')\n      } else {\n        module.exports = require('next/dist/compiled/next-server/app-page-experimental.runtime.dev.js')\n      }\n    } else {\n      if (process.env.TURBOPACK) {\n        module.exports = require('next/dist/compiled/next-server/app-page-turbo-experimental.runtime.prod.js')\n      } else {\n        module.exports = require('next/dist/compiled/next-server/app-page-experimental.runtime.prod.js')\n      }\n    }\n  } else {\n    if (process.env.NODE_ENV === 'development') {\n      if (process.env.TURBOPACK) {\n        module.exports = require('next/dist/compiled/next-server/app-page-turbo.runtime.dev.js')\n      } else {\n        module.exports = require('next/dist/compiled/next-server/app-page.runtime.dev.js')\n      }\n    } else {\n      if (process.env.TURBOPACK) {\n        module.exports = require('next/dist/compiled/next-server/app-page-turbo.runtime.prod.js')\n      } else {\n        module.exports = require('next/dist/compiled/next-server/app-page.runtime.prod.js')\n      }\n    }\n  }\n}\n"],"names":["process","env","NEXT_RUNTIME","module","exports","require","__NEXT_EXPERIMENTAL_REACT","NODE_ENV","TURBOPACK"],"mappings":"AAAA,IAAIA,QAAQC,GAAG,CAACC,YAAY,KAAK,QAAQ;;KAElC;IACL,IAAIF,QAAQC,GAAG,CAACK,yBAAyB,EAAE;;SAcpC;QACL,IAAIN,QAAQC,GAAG,CAACM,QAAQ,KAAK,WAAe;YAC1C,IAAIP,QAAQC,GAAG,CAACO,SAAS,eAAE;gBACzBL,OAAOC,OAAO,GAAGC,QAAQ;YAC3B,OAAO;;QAGT,OAAO;;IAOT;AACF","ignoreList":[0]}},
    {"offset": {"line": 172, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/balbi/OneDrive/BALBIR%20SINGH%20DOCX/MICRODOSE%20INTERNSHIP/Microdose_Social_Platform/frontend/node_modules/next/src/server/route-modules/app-page/vendored/ssr/react-jsx-dev-runtime.ts"],"sourcesContent":["module.exports = (\n  require('../../module.compiled') as typeof import('../../module.compiled')\n).vendored['react-ssr']!.ReactJsxDevRuntime\n"],"names":["module","exports","require","vendored","ReactJsxDevRuntime"],"mappings":"AAAAA,OAAOC,OAAO,GACZC,QAAQ,4HACRC,QAAQ,CAAC,YAAY,CAAEC,kBAAkB","ignoreList":[0]}},
    {"offset": {"line": 177, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/balbi/OneDrive/BALBIR%20SINGH%20DOCX/MICRODOSE%20INTERNSHIP/Microdose_Social_Platform/frontend/node_modules/next/src/server/route-modules/app-page/vendored/ssr/react.ts"],"sourcesContent":["module.exports = (\n  require('../../module.compiled') as typeof import('../../module.compiled')\n).vendored['react-ssr']!.React\n"],"names":["module","exports","require","vendored","React"],"mappings":"AAAAA,OAAOC,OAAO,GACZC,QAAQ,4HACRC,QAAQ,CAAC,YAAY,CAAEC,KAAK","ignoreList":[0]}}]
}