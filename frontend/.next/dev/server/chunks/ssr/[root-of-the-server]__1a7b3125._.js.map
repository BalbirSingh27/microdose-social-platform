{
  "version": 3,
  "sources": [],
  "sections": [
    {"offset": {"line": 10, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/balbi/OneDrive/BALBIR%20SINGH%20DOCX/MICRODOSE%20INTERNSHIP/Microdose_Social_Platform/frontend/app/page.tsx"],"sourcesContent":["\"use client\";\n\nimport { useState } from \"react\";\n\ntype RedditPost = {\n  id: string;\n  title?: string;\n  selftext?: string | null;\n  subreddit?: string;\n  url?: string;\n  created_utc?: string | number;\n  score?: number;\n  num_comments?: number;\n};\n\nconst API_BASE_URL =\n  process.env.NEXT_PUBLIC_API_BASE_URL || \"https://mcrdse-api.onrender.com\";\n\nfunction formatDate(value: string | number | undefined) {\n  if (!value) return \"\";\n  try {\n    const d =\n      typeof value === \"number\"\n        ? new Date(value * 1000)\n        : new Date(value as string);\n    return d.toLocaleString();\n  } catch {\n    return String(value);\n  }\n}\n\nexport default function HomePage() {\n  const [keyword, setKeyword] = useState(\"\");\n  const [results, setResults] = useState<RedditPost[]>([]);\n  const [loading, setLoading] = useState(false);\n  const [error, setError] = useState<string | null>(null);\n  const [hasSearched, setHasSearched] = useState(false);\n\n  const handleSearch = async (e?: React.FormEvent) => {\n    if (e) e.preventDefault();\n    const trimmed = keyword.trim();\n    if (!trimmed) return;\n\n    setLoading(true);\n    setError(null);\n    setHasSearched(true);\n\n    try {\n      const res = await fetch(\n        `${API_BASE_URL}/supabase/reddit_posts/search?keyword=${encodeURIComponent(\n          trimmed\n        )}&limit=50`\n      );\n\n      if (!res.ok) {\n        throw new Error(`Request failed with status ${res.status}`);\n      }\n\n      const data = await res.json();\n      setResults((data && data.results) || []);\n    } catch (err: any) {\n      console.error(err);\n      setError(err.message || \"Something went wrong\");\n      setResults([]);\n    } finally {\n      setLoading(false);\n    }\n  };\n\n  return (\n    <main className=\"min-h-screen px-4 py-8 md:px-10 lg:px-20\">\n      <header className=\"mb-8\">\n        <h1 className=\"text-3xl font-bold mb-2\">\n          MCRDSE ‚Äì Reddit Keyword Search\n        </h1>\n        <p className=\"text-sm text-gray-600 max-w-2xl\">\n          Enter a keyword like <b>‚Äúmicrodosing‚Äù</b>, <b>‚Äúpsilocybin‚Äù</b>, or{\" \"}\n          <b>‚Äúmagic mushrooms‚Äù</b> to see matching posts from Supabase.\n        </p>\n      </header>\n\n      {/* Search bar */}\n      <form\n        onSubmit={handleSearch}\n        className=\"mb-6 flex flex-col gap-3 md:flex-row md:items-center\"\n      >\n        <input\n          type=\"text\"\n          value={keyword}\n          onChange={(e) => setKeyword(e.target.value)}\n          placeholder=\"Enter keyword to search Reddit posts‚Ä¶\"\n          className=\"flex-1 rounded-xl border px-4 py-2 outline-none focus:ring-2 focus:ring-blue-500\"\n        />\n        <button\n          type=\"submit\"\n          disabled={loading || !keyword.trim()}\n          className=\"rounded-xl border px-5 py-2 font-semibold md:w-auto disabled:opacity-60\"\n        >\n          {loading ? \"Searching...\" : \"Search\"}\n        </button>\n      </form>\n\n      {/* Error */}\n      {error && (\n        <div className=\"mb-4 rounded-xl border px-4 py-3 text-sm\">\n          Error: {error}\n        </div>\n      )}\n\n      {/* No results message */}\n      {hasSearched && !loading && results.length === 0 && !error && (\n        <p className=\"text-sm text-gray-500\">\n          No results found for{\" \"}\n          <span className=\"font-semibold\">{keyword}</span>.\n        </p>\n      )}\n\n      {/* Results grid */}\n      <section className=\"grid gap-4 md:grid-cols-2 xl:grid-cols-3\">\n        {results.map((post) => (\n          <article key={post.id} className=\"rounded-2xl border p-4\">\n            <div className=\"mb-1 text-xs uppercase tracking-wide text-gray-500\">\n              {post.subreddit ? `r/${post.subreddit}` : \"Reddit\"}\n            </div>\n\n            <h2 className=\"mb-2 text-sm font-semibold\">\n              {post.title || \"(No title)\"}\n            </h2>\n\n            {post.selftext && (\n              <p className=\"mb-2 text-sm line-clamp-4\">{post.selftext}</p>\n            )}\n\n            <div className=\"mt-2 flex flex-wrap items-center gap-2 text-xs text-gray-500\">\n              {post.score !== undefined && <span>‚¨Ü {post.score}</span>}\n              {post.num_comments !== undefined && (\n                <span>üí¨ {post.num_comments} comments</span>\n              )}\n              <span>{formatDate(post.created_utc)}</span>\n            </div>\n\n            {post.url && (\n              <a\n                href={post.url}\n                target=\"_blank\"\n                rel=\"noreferrer\"\n                className=\"mt-2 inline-block text-xs underline\"\n              >\n                View on Reddit\n              </a>\n            )}\n          </article>\n        ))}\n      </section>\n    </main>\n  );\n}\n"],"names":[],"mappings":"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"}},
    {"offset": {"line": 273, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/balbi/OneDrive/BALBIR%20SINGH%20DOCX/MICRODOSE%20INTERNSHIP/Microdose_Social_Platform/frontend/node_modules/next/src/server/route-modules/app-page/module.compiled.js"],"sourcesContent":["if (process.env.NEXT_RUNTIME === 'edge') {\n  module.exports = require('next/dist/server/route-modules/app-page/module.js')\n} else {\n  if (process.env.__NEXT_EXPERIMENTAL_REACT) {\n    if (process.env.NODE_ENV === 'development') {\n      if (process.env.TURBOPACK) {\n        module.exports = require('next/dist/compiled/next-server/app-page-turbo-experimental.runtime.dev.js')\n      } else {\n        module.exports = require('next/dist/compiled/next-server/app-page-experimental.runtime.dev.js')\n      }\n    } else {\n      if (process.env.TURBOPACK) {\n        module.exports = require('next/dist/compiled/next-server/app-page-turbo-experimental.runtime.prod.js')\n      } else {\n        module.exports = require('next/dist/compiled/next-server/app-page-experimental.runtime.prod.js')\n      }\n    }\n  } else {\n    if (process.env.NODE_ENV === 'development') {\n      if (process.env.TURBOPACK) {\n        module.exports = require('next/dist/compiled/next-server/app-page-turbo.runtime.dev.js')\n      } else {\n        module.exports = require('next/dist/compiled/next-server/app-page.runtime.dev.js')\n      }\n    } else {\n      if (process.env.TURBOPACK) {\n        module.exports = require('next/dist/compiled/next-server/app-page-turbo.runtime.prod.js')\n      } else {\n        module.exports = require('next/dist/compiled/next-server/app-page.runtime.prod.js')\n      }\n    }\n  }\n}\n"],"names":["process","env","NEXT_RUNTIME","module","exports","require","__NEXT_EXPERIMENTAL_REACT","NODE_ENV","TURBOPACK"],"mappings":"AAAA,IAAIA,QAAQC,GAAG,CAACC,YAAY,KAAK,QAAQ;;KAElC;IACL,IAAIF,QAAQC,GAAG,CAACK,yBAAyB,EAAE;;SAcpC;QACL,IAAIN,QAAQC,GAAG,CAACM,QAAQ,KAAK,WAAe;YAC1C,IAAIP,QAAQC,GAAG,CAACO,SAAS,eAAE;gBACzBL,OAAOC,OAAO,GAAGC,QAAQ;YAC3B,OAAO;;QAGT,OAAO;;IAOT;AACF","ignoreList":[0]}},
    {"offset": {"line": 292, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/balbi/OneDrive/BALBIR%20SINGH%20DOCX/MICRODOSE%20INTERNSHIP/Microdose_Social_Platform/frontend/node_modules/next/src/server/route-modules/app-page/vendored/ssr/react-jsx-dev-runtime.ts"],"sourcesContent":["module.exports = (\n  require('../../module.compiled') as typeof import('../../module.compiled')\n).vendored['react-ssr']!.ReactJsxDevRuntime\n"],"names":["module","exports","require","vendored","ReactJsxDevRuntime"],"mappings":"AAAAA,OAAOC,OAAO,GACZC,QAAQ,qIACRC,QAAQ,CAAC,YAAY,CAAEC,kBAAkB","ignoreList":[0]}},
    {"offset": {"line": 297, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/balbi/OneDrive/BALBIR%20SINGH%20DOCX/MICRODOSE%20INTERNSHIP/Microdose_Social_Platform/frontend/node_modules/next/src/server/route-modules/app-page/vendored/ssr/react.ts"],"sourcesContent":["module.exports = (\n  require('../../module.compiled') as typeof import('../../module.compiled')\n).vendored['react-ssr']!.React\n"],"names":["module","exports","require","vendored","React"],"mappings":"AAAAA,OAAOC,OAAO,GACZC,QAAQ,qIACRC,QAAQ,CAAC,YAAY,CAAEC,KAAK","ignoreList":[0]}}]
}